<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="12.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" Condition="Exists('$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props')" />
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
    <ProjectGuid>{F73B3423-992D-444D-A486-9C6A9D729900}</ProjectGuid>
    <OutputType>Library</OutputType>
    <AppDesignerFolder>Properties</AppDesignerFolder>
    <RootNamespace>Xigadee</RootNamespace>
    <AssemblyName>Xigadee.Core</AssemblyName>
    <TargetFrameworkVersion>v4.6</TargetFrameworkVersion>
    <FileAlignment>512</FileAlignment>
    <SccProjectName>SAK</SccProjectName>
    <SccLocalPath>SAK</SccLocalPath>
    <SccAuxPath>SAK</SccAuxPath>
    <SccProvider>SAK</SccProvider>
    <SolutionDir Condition="$(SolutionDir) == '' Or $(SolutionDir) == '*Undefined*'">..\</SolutionDir>
    <RestorePackages>true</RestorePackages>
    <NuGetPackageImportStamp>
    </NuGetPackageImportStamp>
    <TargetFrameworkProfile />
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>false</Optimize>
    <OutputPath>bin\Debug\</OutputPath>
    <DefineConstants>TRACE;DEBUG;CODE_ANALYSIS</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <PlatformTarget>AnyCPU</PlatformTarget>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugType>pdbonly</DebugType>
    <Optimize>true</Optimize>
    <OutputPath>bin\Release\</OutputPath>
    <DefineConstants>TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>
  <ItemGroup>
    <Reference Include="Newtonsoft.Json, Version=8.0.0.0, Culture=neutral, PublicKeyToken=30ad4fe6b2a6aeed, processorArchitecture=MSIL">
      <HintPath>..\packages\Newtonsoft.Json.8.0.2\lib\net45\Newtonsoft.Json.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="System" />
    <Reference Include="System.Configuration" />
    <Reference Include="System.Core" />
    <Reference Include="System.Net" />
    <Reference Include="System.Net.Http" />
    <Reference Include="System.Runtime.Serialization" />
    <Reference Include="System.Transactions" />
    <Reference Include="System.Web" />
    <Reference Include="System.Xml.Linq" />
    <Reference Include="System.Data.DataSetExtensions" />
    <Reference Include="Microsoft.CSharp" />
    <Reference Include="System.Data" />
    <Reference Include="System.Xml" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="..\AssemblyInfo\SharedAssemblyInfo.cs">
      <Link>Properties\SharedAssemblyInfo.cs</Link>
    </Compile>
    <Compile Include="Persistence\CircuitBreaker\CircuitBreakerBase.cs" />
    <Compile Include="Collections\CollectionContainer.cs" />
    <Compile Include="Command\Command.cs" />
    <Compile Include="Command\CommandTimerPoll.cs" />
    <Compile Include="Command\Command_Dispatcher.cs" />
    <Compile Include="Command\Test\CommandTestContainer.cs" />
    <Compile Include="Command\CommandPolicy.cs" />
    <Compile Include="Command\Helper\CommandRequestTracker.cs" />
    <Compile Include="Command\CommandStatistics.cs" />
    <Compile Include="Command\Helper\CommandSchedule.cs" />
    <Compile Include="Command\Command_MasterJob.cs" />
    <Compile Include="Command\Command_OutgoingRequests.cs" />
    <Compile Include="Command\Command_Statistics.cs" />
    <Compile Include="Communication\Interfaces\IBoundaryLogger.cs" />
    <Compile Include="Communication\PartitionConfig\ListenerPartitionConfig.cs" />
    <Compile Include="Communication\PartitionConfig\PartitionConfig.cs" />
    <Compile Include="Communication\PartitionConfig\SenderPartitionConfig.cs" />
    <Compile Include="Communication\TransmissionPayloadTrace.cs" />
    <Compile Include="Entities\Search\SearchOData4Base.cs" />
    <Compile Include="Entities\Search\SearchRequest.cs" />
    <Compile Include="Entities\Search\SearchResponse.cs" />
    <Compile Include="EventSource\DocumentDbEventSource.cs" />
    <Compile Include="Exceptions\RequiredSharedServiceMissingException.cs" />
    <Compile Include="Exceptions\StorageThrottlingException.cs" />
    <Compile Include="Interfaces\Communication\IMessaging.cs" />
    <Compile Include="Interfaces\ICache.cs" />
    <Compile Include="Interfaces\ICommand.cs" />
    <Compile Include="Interfaces\ILoggerExtended.cs" />
    <Compile Include="Interfaces\IPersistenceMessageInitiator.cs" />
    <Compile Include="Interfaces\IPersistenceSharedService.cs" />
    <Compile Include="Interfaces\IRequireSystemEvents.cs" />
    <Compile Include="Interfaces\IServiceLogger.cs" />
    <Compile Include="Interfaces\IServiceOriginator.cs" />
    <Compile Include="Interfaces\ISupportedMessageTypes.cs" />
    <Compile Include="IStatisticsBase.cs" />
    <Compile Include="Job\JobBase.cs" />
    <Compile Include="Job\JobConfiguration.cs" />
    <Compile Include="Command\MasterJob\MasterJobHolder.cs" />
    <Compile Include="Command\MasterJob\MasterJobState.cs" />
    <Compile Include="Command\MasterJob\StandbyPartner.cs" />
    <Compile Include="Logging\DispatcherLoggerDirection.cs" />
    <Compile Include="Logging\DocumentDbLogger.cs" />
    <Compile Include="Logging\FileStorageLoggingBase.cs" />
    <Compile Include="Logging\LogEvent.cs" />
    <Compile Include="Logging\LoggingLevel.cs" />
    <Compile Include="Logging\PayloadLogEvent.cs" />
    <Compile Include="Logging\PersistencePayloadLogEvent.cs" />
    <Compile Include="MessageHandler\CommandHandlerStatistics.cs" />
    <Compile Include="MessageHandler\MessageHandlerStatistics.cs" />
    <Compile Include="MessageInitiator\MessageInitiatorTimeoutSchedule.cs" />
    <Compile Include="Persistence\CacheManager\CacheManagerBase.cs" />
    <Compile Include="Persistence\Client\PersistenceInitiatorBase.cs" />
    <Compile Include="Persistence\Client\PersistenceInitiatorStatistics.cs" />
    <Compile Include="Persistence\Policy\CircuitBreakerPolicy.cs" />
    <Compile Include="Persistence\Policy\PersistenceCommandPolicy.cs" />
    <Compile Include="Persistence\PersistenceResponseHolder.cs" />
    <Compile Include="Persistence\CacheManager\NullCacheManager.cs" />
    <Compile Include="Persistence\Cache\EntityCacheAsyncPolicy.cs" />
    <Compile Include="Persistence\Cache\EntityCacheCollection.cs" />
    <Compile Include="Persistence\Cache\EntityCacheHolderState.cs" />
    <Compile Include="Persistence\Cache\EntityCacheHolder.cs" />
    <Compile Include="Persistence\Cache\EntityCacheResult.cs" />
    <Compile Include="Persistence\Cache\EntityCacheChangeEventArgs.cs" />
    <Compile Include="Persistence\Cache\EntityCacheAsyncBase.cs" />
    <Compile Include="Persistence\Cache\EntityCacheStatistics.cs" />
    <Compile Include="Persistence\Cache\EntityChangeReference.cs" />
    <Compile Include="Persistence\CacheManager\ICacheManager.cs" />
    <Compile Include="Persistence\Cache\IEntityCacheAsync.cs" />
    <Compile Include="Persistence\Cache\EntityCacheReferenceTypeValueKey.cs" />
    <Compile Include="Persistence\Client\PersistenceMessageInitiator.cs" />
    <Compile Include="Persistence\EntityActions.cs" />
    <Compile Include="Persistence\Server\EntityTransformHolder.cs" />
    <Compile Include="Persistence\PersistenceResponse.cs" />
    <Compile Include="Persistence\Interfaces\IPersistenceMessageHandler.cs" />
    <Compile Include="Persistence\Server\DocumentDb\Helper\Account.cs" />
    <Compile Include="Persistence\Server\DocumentDb\Helper\Collection.cs" />
    <Compile Include="Persistence\Server\DocumentDb\Helper\CollectionHolder.cs" />
    <Compile Include="Persistence\Server\DocumentDb\Helper\CollectionSearch.cs" />
    <Compile Include="Persistence\Server\DocumentDb\Helper\Database.cs" />
    <Compile Include="Persistence\Server\DocumentDb\Helper\DocumentDbConnection.cs" />
    <Compile Include="Persistence\Server\DocumentDb\Helper\Helper.cs" />
    <Compile Include="Persistence\Server\DocumentDb\Helper\RestBase.cs" />
    <Compile Include="Persistence\Server\DocumentDb\Helper\SearchParameter.cs" />
    <Compile Include="Persistence\Server\File\TransactionalNTFS\TxFException.cs" />
    <Compile Include="Persistence\Server\File\TransactionalNTFS\TxFDirectory.cs" />
    <Compile Include="Persistence\Server\File\TransactionalNTFS\TxFFile.cs" />
    <Compile Include="Persistence\Server\File\TransactionalNTFS\TxFTransaction.cs" />
    <Compile Include="Persistence\Server\File\TransactionalNTFS\WinApiHelper.cs" />
    <Compile Include="Persistence\Server\JSON\JsonHolder.cs" />
    <Compile Include="Persistence\Server\DocumentDb\PersistenceManagerHandlerDocumentDb.cs" />
    <Compile Include="Persistence\Server\File\PersistenceManagerHandlerFileSystem.cs" />
    <Compile Include="Persistence\Server\JSON\PersistenceManagerHandlerJsonBase.cs" />
    <Compile Include="Persistence\Server\Memory\PersistenceManagerHandlerMemory.cs" />
    <Compile Include="Persistence\Policy\PersistenceRetryPolicy.cs" />
    <Compile Include="Persistence\Server\PersistenceCommandBase.cs" />
    <Compile Include="Persistence\Server\PersistenceRepositoryHolder.cs" />
    <Compile Include="Persistence\Client\PersistenceSharedService.cs" />
    <Compile Include="Logging\LoggingStatistics.cs" />
    <Compile Include="Persistence\Server\PersistenceStatistics.cs" />
    <Compile Include="Persistence\Policy\ShardingPolicy.cs" />
    <Compile Include="Persistence\Policy\VersionPolicy.cs" />
    <Compile Include="PolicyBase.cs" />
    <Compile Include="Command\RequestTracker\RequestTracker.cs" />
    <Compile Include="Entities\Schedule.cs" />
    <Compile Include="Entities\TransmissionPayload.cs" />
    <Compile Include="Exceptions\ServiceAlreadyStartedException.cs" />
    <Compile Include="Exceptions\ServiceNotStartedException.cs" />
    <Compile Include="Interfaces\ContractAttribute.cs" />
    <Compile Include="Exceptions\PayloadDeserializationException.cs" />
    <Compile Include="Exceptions\PayloadSerializationException.cs" />
    <Compile Include="Exceptions\PayloadTypeSerializationNotSupportedException.cs" />
    <Compile Include="Interfaces\IContainerService.cs" />
    <Compile Include="Interfaces\IEventSourceContainer.cs" />
    <Compile Include="Interfaces\IMessageInitiator.cs" />
    <Compile Include="Interfaces\IJob.cs" />
    <Compile Include="Interfaces\Communication\IListener.cs" />
    <Compile Include="Interfaces\ILogger.cs" />
    <Compile Include="Interfaces\IMessageHandler.cs" />
    <Compile Include="Interfaces\IRequireSharedServices.cs" />
    <Compile Include="Interfaces\ISchedule.cs" />
    <Compile Include="Interfaces\Communication\ISender.cs" />
    <Compile Include="Interfaces\IPayloadSerializationContainer.cs" />
    <Compile Include="Interfaces\IService.cs" />
    <Compile Include="Interfaces\IServiceEventSource.cs" />
    <Compile Include="Interfaces\IServiceInitiator.cs" />
    <Compile Include="Interfaces\ISupportsMessage.cs" />
    <Compile Include="Interfaces\ITelemetry.cs" />
    <Compile Include="MessageHandler\CommandHandler.cs" />
    <Compile Include="MessageHandler\MessageHandlerActionHolder.cs" />
    <Compile Include="MessageHandler\MessageHandlerBase.cs" />
    <Compile Include="MessageInitiator\MessageInitiatorBase.cs" />
    <Compile Include="MessageInitiator\MessageInitiatorRequestTracker.cs" />
    <Compile Include="Communication\ClientHolder.cs" />
    <Compile Include="Communication\Exceptions\TransmissionException.cs" />
    <Compile Include="Communication\MessagingListenerBase.cs" />
    <Compile Include="Communication\MessagingSenderBase.cs" />
    <Compile Include="Communication\MessagingServiceBase.cs" />
    <Compile Include="Command\RequestTracker\RequestTrackerContainer.cs" />
    <Compile Include="ResourceTracker\Interfaces\IResourceBase.cs" />
    <Compile Include="ResourceTracker\Interfaces\IResourceConsumer.cs" />
    <Compile Include="ResourceTracker\Interfaces\IResourceRequestRateLimiter.cs" />
    <Compile Include="ResourceTracker\Interfaces\IResourceTracker.cs" />
    <Compile Include="ResourceTracker\ResourceBase.cs" />
    <Compile Include="ResourceTracker\ResourceConsumer.cs" />
    <Compile Include="ResourceTracker\ResourceProfile.cs" />
    <Compile Include="ResourceTracker\ResourceRateLimiter.cs" />
    <Compile Include="ResourceTracker\Interfaces\ResourceRequestResult.cs" />
    <Compile Include="ResourceTracker\Interfaces\ResourceRetryReason.cs" />
    <Compile Include="ResourceTracker\ResourceStatistics.cs" />
    <Compile Include="Serializer\DefaultDataContractSerializer.cs" />
    <Compile Include="Serializer\DefaultSerializerBase.cs" />
    <Compile Include="Interfaces\IEventSource.cs" />
    <Compile Include="Interfaces\IMessageContract.cs" />
    <Compile Include="Interfaces\IPayloadSerialization.cs" />
    <Compile Include="Entities\MessageFilterWrapper.cs" />
    <Compile Include="Serializer\JsonContractSerializer.cs" />
    <Compile Include="Serializer\PayloadDelivery.cs" />
    <Compile Include="Properties\AssemblyInfo.cs" />
    <Compile Include="Entities\ServiceMessage.cs" />
    <Compile Include="Entities\ServiceMessageHeader.cs" />
    <Compile Include="ServiceBase.cs" />
    <Compile Include="ServiceMessageHelper.cs" />
    <Compile Include="ServiceStatus.cs" />
    <Compile Include="StatisticsBase.cs" />
    <Compile Include="Statistics\CollectionStatistics.cs" />
    <Compile Include="Job\JobStatistics.cs" />
    <Compile Include="MessageInitiator\MessageInitiatorStatistics.cs" />
    <Compile Include="Communication\Statistics\MessagingServiceStatistics.cs" />
    <Compile Include="Statistics\ICollectionStatistics.cs" />
    <Compile Include="Statistics\MessagingStatistics.cs" />
    <Compile Include="Statistics\StatusBase.cs" />
  </ItemGroup>
  <ItemGroup>
    <None Include="packages.config" />
    <None Include="Xigadee.Core.nuspec" />
  </ItemGroup>
  <ItemGroup />
  <ItemGroup>
    <Content Include="Properties\ApacheLicense-2.0.txt" />
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\Xigadee\Xigadee.Helper.csproj">
      <Project>{4f785b7b-1fdc-4dcc-9453-fe42447fded2}</Project>
      <Name>Xigadee.Helper</Name>
    </ProjectReference>
  </ItemGroup>
  <Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />
  <Import Project="$(SolutionDir)\.nuget\NuGet.targets" Condition="Exists('$(SolutionDir)\.nuget\NuGet.targets')" />
  <Target Name="BeforeBuild">
  </Target>
  <Target Name="AfterBuild" Condition=" '$(MultipleFrameworks)'=='true'">
    <CreateItem Include="bin\$(Configuration)\$(ProjectName)*.*">
      <Output TaskParameter="Include" ItemName="FilesToCopy" />
    </CreateItem>
    <RemoveDir Directories="bin\$(Configuration)\net46" />
    <MakeDir Directories="bin\$(Configuration)\net46" />
    <Copy SourceFiles="@(FilesToCopy)" DestinationFolder="bin\$(Configuration)\net46" />
    <!--MSBuild Projects="$(MSBuildProjectFile)" Properties="TargetFrameworkVersion=v4.5;OutputPath=bin\$(Configuration)\net45;MultipleFrameworks=false" Targets="Clean;Build" RunEachTargetSeparately="true" /-->
  </Target>
  <Target Name="EnsureNuGetPackageBuildImports" BeforeTargets="PrepareForBuild">
    <PropertyGroup>
      <ErrorText>This project references NuGet package(s) that are missing on this computer. Enable NuGet Package Restore to download them.  For more information, see http://go.microsoft.com/fwlink/?LinkID=322105. The missing file is {0}.</ErrorText>
    </PropertyGroup>
    <Error Condition="!Exists('..\packages\Microsoft.Bcl.Build.1.0.21\build\Microsoft.Bcl.Build.targets')" Text="$([System.String]::Format('$(ErrorText)', '..\packages\Microsoft.Bcl.Build.1.0.21\build\Microsoft.Bcl.Build.targets'))" />
    <Error Condition="!Exists('..\packages\Microsoft.Bcl.Build.1.0.21\build\Microsoft.Bcl.Build.targets')" Text="$([System.String]::Format('$(ErrorText)', '..\packages\Microsoft.Bcl.Build.1.0.21\build\Microsoft.Bcl.Build.targets'))" />
  </Target>
  <Import Project="..\packages\Microsoft.Bcl.Build.1.0.21\build\Microsoft.Bcl.Build.targets" Condition="Exists('..\packages\Microsoft.Bcl.Build.1.0.21\build\Microsoft.Bcl.Build.targets')" />
</Project>